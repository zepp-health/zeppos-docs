# AppService

> Start from API_LEVEL `3.0` . Please refer to [API_LEVEL](../../../../guides/framework/device/compatibility.md).

Register an App Service in the Mini Program, specify the lifecycle callback for the current App Service, etc. Each App Service file must call the `AppService()` constructor only once.

:::info
permission code: `device:os.bg_service`
:::

## Type

```ts
function AppService(option: Option): Result
```

## Parameters

### Option

| Property  | Type                                       | Required | DefaultValue | Description                                                                                                                                           | API_LEVEL |
| --------- | ------------------------------------------ | -------- | ------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| state     | <code>object</code>                        | N        | -            | A data object mounted on the appService instance that can be used to store the current state of the service                                           | 3.0       |
| onInit    | <code>(params?: string) =&#62; void</code> | N        | -            | This function is triggered when the service is started. If the service is started with params, the params string can be obtained in the onInit method | 3.0       |
| onDestroy | <code>() =&#62; void</code>                | N        | -            | The `onDestroy` lifecycle function is triggered when the service is destroyed                                                                         | 3.0       |

### Result

| Type                 | Description         |
| -------------------- | ------------------- |
| <code>unknown</code> | AppService instance |

## Example

```js title="appService.js"
AppService({
  state: {
    text: 'Hello Zepp OS',
  },
  onInit() {
    console.log('onInit')
  },
})
```
